
<!DOCTYPE html>
<html>

<head>
    <title>library_explorer</title>
    <style>html {
    font-family: sans-serif;
    background-color: hsl(0, 0%, 20%);
    margin: 0;
    height: 100%;
    overflow: -moz-scrollbars-vertical; 
    overflow-y: scroll;
}

body {
    margin: 0;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.navbar {
background-color: white;
overflow: hidden;
opacity: 1;
height: 120px;
position: fixed; 
top: 0; 
left: 0;
width: 100%; 
z-index: 101;
}

#nav-header {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    margin-top: 12px;
    margin-bottom: 6px;
}

#title {
    letter-spacing: .117em;
    padding-left: 26px;
    margin: 0;
}

#command-subtitle-container {
    position: fixed;
    top: 99px;
    letter-spacing: .01em;
    font-family: monospace;
    color: white;
    padding: 4px;
    padding-bottom: 8px;
    padding-left: 26px;
    background-color: hsl(0, 0%, 20%);
    border-radius: 0 12px 0 0;
    z-index: 102;
    width: 100%;
    margin: 0;
}

#command-subtitle {
    margin: 0;
}

#nav-menu {
    display: flex;
    flex-direction: row;
    justify-content: start;
    align-items: center;
}

.nav-menu-button,  #guide-container>div>h2, #help-container>div>h2, #about-container>div>h2{
    font-weight: normal;
    font-size: large;
    letter-spacing: .1em;
    padding: 12px;
    padding-top: 6px;
    padding-bottom: 6px;
    margin-left: 26px;
    border-radius: 22px;
    -webkit-user-select: none;
}

.nav-menu-button:hover, #guide-container>div>h2:hover {
    cursor: pointer;
    background-color: hsl(0, 0%, 80%);

}

#guide-container>div>h2, #about-container>div>h2 {
    margin: 0px;
}

#about-container>div:last-of-type {
    color: black;
    text-align: center;
    line-height: 1.8;
}

#about-container>div>a {
    color: black;
    text-align: center;
}

h4 {
    margin: auto;
}

#full-path-display {
    height: 20px;
    padding-left: 26px;
    padding-bottom: 3px;
}

code {
    font-family: 'Courier New', Courier, monospace;
    font-size: 11pt;
    color: white;
    background-color: hsl(0, 0%, 20%);
    padding: 4px;
    border-radius: 8px;
    line-height: 2em;
}

.search-box {
    padding-right: 26px;
}

.search-nav {
    display: flex;
    flex-direction: row;
}

.search-text {
    border-radius: 18px;
    height: 36px;
    width: 300px;
    padding-left: 12px;
    border: solid;
    border-width: 1px;
    outline: none;
}

.search-button {
    border-radius: 18px;
    height: 36px;
    width: 36px;
    border: solid;
    border-width: 1px;
    outline: none;
    background-color: white;
    margin-left: 6px;
}

.hover-button:hover {
    cursor: pointer;
    background-color: rgba(105, 105, 105, 0.507)
}

.click-button:active {
    background-color:  hsl(0, 0%, 90%);
}

#search-results {
    display: table-row;
    font-size: small;
    text-align: left;
    text-indent: 16px;
}

#guide-container {
    display: block;
    flex-direction: column;
    color: black;  
}

#guide-container>div, #help-container>div, #about-container {
    padding-left: 18px;
    padding-right: 18px;
    margin-top: 12px;
}

.icon {
    height: 30px;
    width: 30px;
}

.main {
    flex: 1 0 auto;
    display: flex;
    flex-direction: column;
    top: 130px;
    width: 100%;
}

#explorer-container {
    flex: 1 0 auto;
    display: flex;
    flex-direction: column;
    margin-left: 0px;
    margin-top: 123px;
}

ul {
    
    list-style:none;
    padding-left: 1em;
    height: 0;
    overflow: hidden;
    z-index: 0;
}

ul.show-list {
    height: auto;
    padding-top: 3px;
    padding-bottom: 3px;
    padding-left: 18px;
    padding-right: 3px;
}

li {
    background-color: white;
    border-radius: 12px;
    padding-top: 3px;
    padding-bottom: 3px;
    padding-left: 8px;
    padding-right: 25px;
    border-width: 3px;
    border: solid;
    border-color: rgba(0, 0, 0, 0);
    z-index: 0;
    background-clip: padding-box;
    margin-bottom: -3px;
}

.library-item-menu-button {
    margin-left: 20px;
    cursor: pointer;
    border-radius: 3px;
}

.library-item-menu-button:hover {
    background-color: rgba(105, 105, 105, 0.507);
    box-shadow: 0 0 0 3px rgba(105, 105, 105, 0.507);
}

.slide-open-text {
    max-height: 0;
    overflow: hidden;
    transition: max-height .5s;
    transition-delay: 0s;
    margin-left: 12px;
}

.close-sidebar-button {
    text-align: center;
    float: right;
    margin: 6px;
    font-size: small;
    padding: 12px;
    padding-top: 8px;
    height: 10px;
    width: 10px;
    overflow: visible;
    color: hsl(0, 0%, 20%);
    border-radius: 12px;
}

.close-sidebar-button:hover {
    background-color: hsl(0, 0%, 80%);
    cursor: pointer;
}

#about-container>div>p {
    margin-left: 12px;
}

.hidden {
    position:absolute;
    left:-10000px;
    top:-10000px;
    width:1px;
    height:1px;
    overflow:hidden;
}

.hover-details {
    margin-left: 26px;
    font-weight: bold;
    font-size: small;
    padding: 1px;
    height: auto;
    width: auto;
}

.album {
    font-weight: normal;
}

.hide {
    height: 0;
    padding-top: 0;
    padding-bottom: 0;
    overflow: hidden;
}

.library {
    font-weight: bold;
}

.collection {
    font-weight: bold;
}

.list-icon {
    height: 1em;
    width: 1em;
    margin-right: 0.5em;
}

.fade ul {
    height: 0;
   
  }
.fade ul.show-list {
    height: auto;
}

.library-item {
    transition: background-color .5s linear;
}

#library-explorer {
    top: auto;
    position: relative;
    padding-right: 18px;
    margin-top: 0;
    margin-left:0px;
    z-index: 1;
}

.insights-and-guide-container {  
    display: block;
    flex-direction: column;
}

#insights>ul {
    padding: 6px;
    float:left;
}

#insights>p {
    text-align: center;
}

.insights, .guide {
    border-radius: 0 12px 12px 0;
    padding-top: 3px;
    font-size: small;
    padding: 0;
    position: fixed;
    top: 0;
    left: 0;
    background-color:white;
    overflow:auto;
    word-wrap: none;
    z-index: 3;
    width: 400px;
    visibility: hidden;
    margin-top: 126px;
    height: 100vh;
    border: solid;
    border-width: 3px;
    border-color:  hsl(0, 0%, 20%);
}

#insights-expander-button {
    float: right;
    margin-right: 12px;
}

#insights-expander-button:hover {
    cursor: pointer;
}

.insights>ul {
    cursor: default;
}

.largest-folders {
    display: block;
    font-weight: bold;
}

.largest-folders:hover {
    cursor: pointer;
    box-shadow: 0 0 0 3px rgba(105, 105, 105, 0.507);
}

.largest-folders>span {
    font-weight: normal;
    overflow: hidden;
}

.current-search-result {
    text-decoration: underline;
    font-weight: bold;
}

#library-item-modal {
    border-radius: 12px;
    position: absolute;
    z-index: 100;
    background-color: white;
    text-align: right;
    padding-bottom: 10px;
    overflow: hidden;
    visibility: hidden;
    background-color: hsl(0, 0%, 90%);
    box-shadow: 2px 2px 7px black;
}

#library-item-modal.show-modal {
    visibility: visible;
    height: auto;
    width: auto;
}

.modal-menu-item {
    display: flex;
    justify-content: flex-start;
    padding-top: 3px;
    padding-bottom: 3px;
    padding-left: 12px;
    padding-right: 12px;

}

#library-item-modal>textarea {
    font-family: sans-serif;
    border: none;
    outline:none;
    resize: none;
    height: 2em;
    display: flex;
    padding-top: 3px;
    padding-bottom: 3px;
    background-color: hsl(0, 0%, 90%);
}

.modal-menu-item>a {
   font-size: small;
   color: black;
   text-decoration: none;
   padding: 3px;
   border-radius: 8px;
}

.modal-menu-item>a:hover {
    background-color: lightgray;
    cursor: pointer;
 }

 #disabler {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: .5;
    visibility: hidden;
    z-index: 99;
 }

 #icon-container>a {
    padding-top: 20px;
    color: black;
    justify-content: center;
 }

 #footer {
    margin-top: auto;
    color: white;
    text-align: center;
    position: relative;
    bottom: 0;
    width: 100%;
    line-height: 1.8;
    flex-shrink: 0;
 }

 .icon-link {
     color: white;
 }</style>
</head>

<body>
    <div class="insights-and-guide-container">
        <div id="insights" class="insights">
            <p>These are the paths with the most albums</p>
            <ul class="show-list">
                <li class="largest-folders" data-total-albums="106" data-total-audio-files="946" data-full-path="Y:\Music\DJ Tracks">Y:\Music\DJ Tracks</li><li class="largest-folders" data-total-albums="40" data-total-audio-files="277" data-full-path="Y:\Music\DJ Tracks\KFA">Y:\Music\DJ Tracks\KFA</li><li class="largest-folders" data-total-albums="6" data-total-audio-files="36" data-full-path="Y:\Music\DJ Tracks\Kniteforce">Y:\Music\DJ Tracks\Kniteforce</li><li class="largest-folders" data-total-albums="5" data-total-audio-files="57" data-full-path="Y:\Music\DJ Tracks\Breakcore">Y:\Music\DJ Tracks\Breakcore</li><li class="largest-folders" data-total-albums="4" data-total-audio-files="28" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks">Y:\Music\DJ Tracks\Hardcore Breaks</li><li class="largest-folders" data-total-albums="4" data-total-audio-files="28" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks\4-1-2017 hardcore breaks sorting">Y:\Music\DJ Tracks\Hardcore Breaks\4-1-2017 hardcore breaks sorting</li><li class="largest-folders" data-total-albums="3" data-total-audio-files="9" data-full-path="Y:\Music\DJ Tracks\Unknown artist">Y:\Music\DJ Tracks\Unknown artist</li><li class="largest-folders" data-total-albums="3" data-total-audio-files="23" data-full-path="Y:\Music\DJ Tracks\bandcamp 4.1.18">Y:\Music\DJ Tracks\bandcamp 4.1.18</li><li class="largest-folders" data-total-albums="2" data-total-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Neurokontrol">Y:\Music\DJ Tracks\Neurokontrol</li><li class="largest-folders" data-total-albums="2" data-total-audio-files="26" data-full-path="Y:\Music\DJ Tracks\Various">Y:\Music\DJ Tracks\Various</li></ul></div></div><div class="main"><div id="explorer-container"><ul id="library-explorer" class="show-list"><li class="library library-item" data-contained-collections="14" data-contained-albums="30" data-total-albums="106" data-total-audio-files="946" data-full-path="Y:\Music\DJ Tracks" data-shortname="Y:\Music\DJ Tracks">Y:\Music\DJ Tracks<ul><li class="album library-item" data-contained-audio-files="11" data-full-path="Y:\Music\DJ Tracks\4-28-2018" data-shortname="4-28-2018">4-28-2018</li><li class="album library-item" data-contained-audio-files="10" data-full-path="Y:\Music\DJ Tracks\Alryk - Nightmare" data-shortname="Alryk - Nightmare">Alryk - Nightmare</li><li class="album library-item" data-contained-audio-files="25" data-full-path="Y:\Music\DJ Tracks\Billain" data-shortname="Billain">Billain</li><li class="album library-item" data-contained-audio-files="12" data-full-path="Y:\Music\DJ Tracks\Billx - U Cant Stop The Rave" data-shortname="Billx - U Cant Stop The Rave">Billx - U Cant Stop The Rave</li><li class="collection library-item" data-contained-albums="5" data-total-albums="5" data-total-audio-files="57" data-full-path="Y:\Music\DJ Tracks\Breakcore" data-shortname="Breakcore">Breakcore<ul><li class="album library-item" data-contained-audio-files="13" data-full-path="Y:\Music\DJ Tracks\Breakcore\220" data-shortname="220">220</li><li class="album library-item" data-contained-audio-files="8" data-full-path="Y:\Music\DJ Tracks\Breakcore\230+" data-shortname="230+">230+</li><li class="album library-item" data-contained-audio-files="11" data-full-path="Y:\Music\DJ Tracks\Breakcore\4x4" data-shortname="4x4">4x4</li><li class="album library-item" data-contained-audio-files="18" data-full-path="Y:\Music\DJ Tracks\Breakcore\Slow Breaks" data-shortname="Slow Breaks">Slow Breaks</li><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Breakcore\Temp Extra CD" data-shortname="Temp Extra CD">Temp Extra CD</li></ul></li><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\Completely Different" data-shortname="Completely Different">Completely Different</li><li class="album library-item" data-contained-audio-files="26" data-full-path="Y:\Music\DJ Tracks\DONK" data-shortname="DONK">DONK</li><li class="album library-item" data-contained-audio-files="13" data-full-path="Y:\Music\DJ Tracks\DnB Jan 2017" data-shortname="DnB Jan 2017">DnB Jan 2017</li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Frenchcore Hardtek 8-18-16" data-shortname="Frenchcore Hardtek 8-18-16">Frenchcore Hardtek 8-18-16<ul><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Frenchcore Hardtek 8-18-16\The Sickest Squad - Ass- bass n bitches" data-shortname="The Sickest Squad - Ass- bass n bitches">The Sickest Squad - Ass- bass n bitches</li></ul></li><li class="album library-item" data-contained-audio-files="19" data-full-path="Y:\Music\DJ Tracks\Funky Neuro From BP 3-18-18" data-shortname="Funky Neuro From BP 3-18-18">Funky Neuro From BP 3-18-18</li><li class="library library-item" data-contained-collections="1" data-contained-albums="0" data-total-albums="4" data-total-audio-files="28" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks" data-shortname="Hardcore Breaks">Hardcore Breaks<ul><li class="collection library-item" data-contained-albums="4" data-total-albums="4" data-total-audio-files="28" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks\4-1-2017 hardcore breaks sorting" data-shortname="4-1-2017 hardcore breaks sorting">4-1-2017 hardcore breaks sorting<ul><li class="album library-item" data-contained-audio-files="2" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks\4-1-2017 hardcore breaks sorting\110-130" data-shortname="110-130">110-130</li><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks\4-1-2017 hardcore breaks sorting\130-150" data-shortname="130-150">130-150</li><li class="album library-item" data-contained-audio-files="18" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks\4-1-2017 hardcore breaks sorting\150-160" data-shortname="150-160">150-160</li><li class="album library-item" data-contained-audio-files="1" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks\4-1-2017 hardcore breaks sorting\160-170" data-shortname="160-170">160-170</li></ul></li></ul></li><li class="album library-item" data-contained-audio-files="44" data-full-path="Y:\Music\DJ Tracks\Hardcore Breaks, Breaks, Future Jungle" data-shortname="Hardcore Breaks, Breaks, Future Jungle">Hardcore Breaks, Breaks, Future Jungle</li><li class="album library-item" data-contained-audio-files="40" data-full-path="Y:\Music\DJ Tracks\Hardtek 3-24-17" data-shortname="Hardtek 3-24-17">Hardtek 3-24-17</li><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\Hella Hardcore 9-13-13" data-shortname="Hella Hardcore 9-13-13">Hella Hardcore 9-13-13</li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="3" data-full-path="Y:\Music\DJ Tracks\KF64Promo" data-shortname="KF64Promo">KF64Promo<ul><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\KF64Promo\KF64Promo" data-shortname="KF64Promo">KF64Promo</li></ul></li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="1" data-full-path="Y:\Music\DJ Tracks\KF65Promo" data-shortname="KF65Promo">KF65Promo<ul><li class="album library-item" data-contained-audio-files="1" data-full-path="Y:\Music\DJ Tracks\KF65Promo\KF65Promo" data-shortname="KF65Promo">KF65Promo</li></ul></li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KF67All" data-shortname="KF67All">KF67All<ul><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KF67All\KF67All" data-shortname="KF67All">KF67All</li></ul></li><li class="library library-item" data-contained-collections="1" data-contained-albums="39" data-total-albums="40" data-total-audio-files="277" data-full-path="Y:\Music\DJ Tracks\KFA" data-shortname="KFA">KFA<ul><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\KFA\KF61Promo" data-shortname="KF61Promo">KF61Promo</li><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\KFA\KFA 16bit WAV masters" data-shortname="KFA 16bit WAV masters">KFA 16bit WAV masters</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA01" data-shortname="KFA01">KFA01</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA02" data-shortname="KFA02">KFA02</li><li class="album library-item" data-contained-audio-files="8" data-full-path="Y:\Music\DJ Tracks\KFA\KFA03" data-shortname="KFA03">KFA03</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA04" data-shortname="KFA04">KFA04</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA05" data-shortname="KFA05">KFA05</li><li class="album library-item" data-contained-audio-files="8" data-full-path="Y:\Music\DJ Tracks\KFA\KFA06" data-shortname="KFA06">KFA06</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA07" data-shortname="KFA07">KFA07</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA08" data-shortname="KFA08">KFA08</li><li class="album library-item" data-contained-audio-files="8" data-full-path="Y:\Music\DJ Tracks\KFA\KFA09" data-shortname="KFA09">KFA09</li><li class="album library-item" data-contained-audio-files="22" data-full-path="Y:\Music\DJ Tracks\KFA\KFA10" data-shortname="KFA10">KFA10</li><li class="album library-item" data-contained-audio-files="11" data-full-path="Y:\Music\DJ Tracks\KFA\KFA11" data-shortname="KFA11">KFA11</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA12" data-shortname="KFA12">KFA12</li><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\KFA\KFA13" data-shortname="KFA13">KFA13</li><li class="album library-item" data-contained-audio-files="16" data-full-path="Y:\Music\DJ Tracks\KFA\KFA14" data-shortname="KFA14">KFA14</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA15" data-shortname="KFA15">KFA15</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA16" data-shortname="KFA16">KFA16</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA17" data-shortname="KFA17">KFA17</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA18" data-shortname="KFA18">KFA18</li><li class="album library-item" data-contained-audio-files="8" data-full-path="Y:\Music\DJ Tracks\KFA\KFA19" data-shortname="KFA19">KFA19</li><li class="album library-item" data-contained-audio-files="12" data-full-path="Y:\Music\DJ Tracks\KFA\KFA20" data-shortname="KFA20">KFA20</li><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\KFA\KFA22" data-shortname="KFA22">KFA22</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA23" data-shortname="KFA23">KFA23</li><li class="album library-item" data-contained-audio-files="8" data-full-path="Y:\Music\DJ Tracks\KFA\KFA24" data-shortname="KFA24">KFA24</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA25" data-shortname="KFA25">KFA25</li><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\KFA\KFA26" data-shortname="KFA26">KFA26</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA27" data-shortname="KFA27">KFA27</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA28" data-shortname="KFA28">KFA28</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA29" data-shortname="KFA29">KFA29</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA30" data-shortname="KFA30">KFA30</li><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\KFA\KFA41" data-shortname="KFA41">KFA41</li><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\KFA\KFA45" data-shortname="KFA45">KFA45</li><li class="path library-item" data-total-albums="0" data-total-audio-files="0" data-full-path="Y:\Music\DJ Tracks\KFA\KFA49" data-shortname="KFA49">KFA49</li><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\KFA\KFA59ExEcEd" data-shortname="KFA59ExEcEd">KFA59ExEcEd</li><li class="album library-item" data-contained-audio-files="9" data-full-path="Y:\Music\DJ Tracks\KFA\KFA60ExEcEd" data-shortname="KFA60ExEcEd">KFA60ExEcEd</li><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\KFA\KFA61promo" data-shortname="KFA61promo">KFA61promo</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\KFA63Promo" data-shortname="KFA63Promo">KFA63Promo</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\KFA\KFA65Promo" data-shortname="KFA65Promo">KFA65Promo</li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="16" data-full-path="Y:\Music\DJ Tracks\KFA\KFAPromo_Oct2015" data-shortname="KFAPromo_Oct2015">KFAPromo_Oct2015<ul><li class="album library-item" data-contained-audio-files="16" data-full-path="Y:\Music\DJ Tracks\KFA\KFAPromo_Oct2015\KFApromopack" data-shortname="KFApromopack">KFApromopack</li></ul></li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFA\kfa70promo" data-shortname="kfa70promo">kfa70promo</li></ul></li><li class="library library-item" data-contained-collections="1" data-contained-albums="0" data-total-albums="1" data-total-audio-files="7" data-full-path="Y:\Music\DJ Tracks\KFCD03Promo" data-shortname="KFCD03Promo">KFCD03Promo<ul><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="7" data-full-path="Y:\Music\DJ Tracks\KFCD03Promo\KFCD03Promo" data-shortname="KFCD03Promo">KFCD03Promo<ul><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\KFCD03Promo\KFCD03Promo\MP3s" data-shortname="MP3s">MP3s</li></ul></li></ul></li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFCD04" data-shortname="KFCD04">KFCD04<ul><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\KFCD04\KFCD04" data-shortname="KFCD04">KFCD04</li></ul></li><li class="album library-item" data-contained-audio-files="14" data-full-path="Y:\Music\DJ Tracks\Kick Bass Album" data-shortname="Kick Bass Album">Kick Bass Album</li><li class="library library-item" data-contained-collections="5" data-contained-albums="0" data-total-albums="6" data-total-audio-files="36" data-full-path="Y:\Music\DJ Tracks\Kniteforce" data-shortname="Kniteforce">Kniteforce<ul><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="3" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF64Promo" data-shortname="KF64Promo">KF64Promo<ul><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF64Promo\KF64Promo" data-shortname="KF64Promo">KF64Promo</li></ul></li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="3" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF65Promo" data-shortname="KF65Promo">KF65Promo<ul><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF65Promo\KF65Promo" data-shortname="KF65Promo">KF65Promo</li></ul></li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF66Promo" data-shortname="KF66Promo">KF66Promo<ul><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF66Promo\KF66Promo" data-shortname="KF66Promo">KF66Promo</li></ul></li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF67All" data-shortname="KF67All">KF67All<ul><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KF67All\KF67All" data-shortname="KF67All">KF67All</li></ul></li><li class="library library-item" data-contained-collections="1" data-contained-albums="0" data-total-albums="1" data-total-audio-files="12" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KFCD03Promo" data-shortname="KFCD03Promo">KFCD03Promo<ul><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="12" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KFCD03Promo\KFCD03Promo" data-shortname="KFCD03Promo">KFCD03Promo<ul><li class="album library-item" data-contained-audio-files="12" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KFCD03Promo\KFCD03Promo\MP3s" data-shortname="MP3s">MP3s</li></ul></li></ul></li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KFCD04" data-shortname="KFCD04">KFCD04<ul><li class="album library-item" data-contained-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Kniteforce\KFCD04\KFCD04" data-shortname="KFCD04">KFCD04</li></ul></li></ul></li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Komperes HS 4" data-shortname="Komperes HS 4">Komperes HS 4</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\Luca Skatek - Homicide Impulse" data-shortname="Luca Skatek - Homicide Impulse">Luca Skatek - Homicide Impulse</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Move Your Ass 3" data-shortname="Move Your Ass 3">Move Your Ass 3</li><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\NEOH" data-shortname="NEOH">NEOH</li><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\Neika" data-shortname="Neika">Neika</li><li class="collection library-item" data-contained-albums="2" data-total-albums="2" data-total-audio-files="7" data-full-path="Y:\Music\DJ Tracks\Neurokontrol" data-shortname="Neurokontrol">Neurokontrol<ul><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\Neurokontrol\frenchcore" data-shortname="frenchcore">frenchcore</li><li class="album library-item" data-contained-audio-files="2" data-full-path="Y:\Music\DJ Tracks\Neurokontrol\raggatek" data-shortname="raggatek">raggatek</li></ul></li><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\Ostralopitek - Play" data-shortname="Ostralopitek - Play">Ostralopitek - Play</li><li class="album library-item" data-contained-audio-files="2" data-full-path="Y:\Music\DJ Tracks\Six Pack Tracks" data-shortname="Six Pack Tracks">Six Pack Tracks</li><li class="collection library-item" data-contained-albums="3" data-total-albums="3" data-total-audio-files="9" data-full-path="Y:\Music\DJ Tracks\Unknown artist" data-shortname="Unknown artist">Unknown artist<ul><li class="album library-item" data-contained-audio-files="2" data-full-path="Y:\Music\DJ Tracks\Unknown artist\Unknown album (6-25-2013 10-20-03 AM)" data-shortname="Unknown album (6-25-2013 10-20-03 AM)">Unknown album (6-25-2013 10-20-03 AM)</li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Unknown artist\Unknown album (6-28-2013 2-58-13 PM)" data-shortname="Unknown album (6-28-2013 2-58-13 PM)">Unknown album (6-28-2013 2-58-13 PM)</li><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\Unknown artist\Unknown album (9-18-2014 11-39-48 AM)" data-shortname="Unknown album (9-18-2014 11-39-48 AM)">Unknown album (9-18-2014 11-39-48 AM)</li></ul></li><li class="collection library-item" data-contained-albums="2" data-total-albums="2" data-total-audio-files="26" data-full-path="Y:\Music\DJ Tracks\Various" data-shortname="Various">Various<ul><li class="album library-item" data-contained-audio-files="13" data-full-path="Y:\Music\DJ Tracks\Various\Kick those drums" data-shortname="Kick those drums">Kick those drums</li><li class="album library-item" data-contained-audio-files="13" data-full-path="Y:\Music\DJ Tracks\Various\kniteforce breaks" data-shortname="kniteforce breaks">kniteforce breaks</li></ul></li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\Z-33 TRACKS pack" data-shortname="Z-33 TRACKS pack">Z-33 TRACKS pack</li><li class="collection library-item" data-contained-albums="3" data-total-albums="3" data-total-audio-files="23" data-full-path="Y:\Music\DJ Tracks\bandcamp 4.1.18" data-shortname="bandcamp 4.1.18">bandcamp 4.1.18<ul><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\bandcamp 4.1.18\DTC - NAYIX - Passage 01" data-shortname="DTC - NAYIX - Passage 01">DTC - NAYIX - Passage 01</li><li class="album library-item" data-contained-audio-files="11" data-full-path="Y:\Music\DJ Tracks\bandcamp 4.1.18\Ratus - Pouetcore United !" data-shortname="Ratus - Pouetcore United !">Ratus - Pouetcore United !</li><li class="album library-item" data-contained-audio-files="8" data-full-path="Y:\Music\DJ Tracks\bandcamp 4.1.18\Tao H - ON EN A GROS -Album" data-shortname="Tao H - ON EN A GROS -Album">Tao H - ON EN A GROS -Album</li></ul></li><li class="album library-item" data-contained-audio-files="39" data-full-path="Y:\Music\DJ Tracks\extract from DLs 1" data-shortname="extract from DLs 1">extract from DLs 1</li><li class="album library-item" data-contained-audio-files="40" data-full-path="Y:\Music\DJ Tracks\extract from Dls 2" data-shortname="extract from Dls 2">extract from Dls 2</li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="13" data-full-path="Y:\Music\DJ Tracks\fant4stik" data-shortname="fant4stik">fant4stik<ul><li class="album library-item" data-contained-audio-files="13" data-full-path="Y:\Music\DJ Tracks\fant4stik\FANT4STIK album REPTILIANS" data-shortname="FANT4STIK album REPTILIANS">FANT4STIK album REPTILIANS</li></ul></li><li class="collection library-item" data-contained-albums="2" data-total-albums="2" data-total-audio-files="21" data-full-path="Y:\Music\DJ Tracks\floxytek" data-shortname="floxytek">floxytek<ul><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\floxytek\floxytek - zulu" data-shortname="floxytek - zulu">floxytek - zulu</li><li class="album library-item" data-contained-audio-files="15" data-full-path="Y:\Music\DJ Tracks\floxytek\floxytek- invasion" data-shortname="floxytek- invasion">floxytek- invasion</li></ul></li><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\gamm@" data-shortname="gamm@">gamm@</li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="9" data-full-path="Y:\Music\DJ Tracks\hardtek 7-28" data-shortname="hardtek 7-28">hardtek 7-28<ul><li class="album library-item" data-contained-audio-files="9" data-full-path="Y:\Music\DJ Tracks\hardtek 7-28\BILLX FRACTAL" data-shortname="BILLX FRACTAL">BILLX FRACTAL</li></ul></li><li class="album library-item" data-contained-audio-files="4" data-full-path="Y:\Music\DJ Tracks\harry potar" data-shortname="harry potar">harry potar</li><li class="album library-item" data-contained-audio-files="5" data-full-path="Y:\Music\DJ Tracks\hellahardcore827masters" data-shortname="hellahardcore827masters">hellahardcore827masters</li><li class="album library-item" data-contained-audio-files="11" data-full-path="Y:\Music\DJ Tracks\mat weasel" data-shortname="mat weasel">mat weasel</li><li class="album library-item" data-contained-audio-files="15" data-full-path="Y:\Music\DJ Tracks\pitch madattak" data-shortname="pitch madattak">pitch madattak</li><li class="album library-item" data-contained-audio-files="6" data-full-path="Y:\Music\DJ Tracks\pumpcore edits" data-shortname="pumpcore edits">pumpcore edits</li><li class="album library-item" data-contained-audio-files="1" data-full-path="Y:\Music\DJ Tracks\ratus" data-shortname="ratus">ratus</li><li class="album library-item" data-contained-audio-files="1" data-full-path="Y:\Music\DJ Tracks\rekordbox_Control_Signal" data-shortname="rekordbox_Control_Signal">rekordbox_Control_Signal</li><li class="collection library-item" data-contained-albums="1" data-total-albums="1" data-total-audio-files="3" data-full-path="Y:\Music\DJ Tracks\tanukichi" data-shortname="tanukichi">tanukichi<ul><li class="album library-item" data-contained-audio-files="3" data-full-path="Y:\Music\DJ Tracks\tanukichi\Tanupack 2016" data-shortname="Tanupack 2016">Tanupack 2016</li></ul></li></ul></li></ul><span id="command" class="hidden" data-command="Y:\Music\DJ Tracks --html "></span></div></div></body><script>window.onload = () => {

    /*-------------------------------------------------------------------------
        Add DOM elements and styling, initialize state, and set handlers.
    -------------------------------------------------------------------------*/

    document.body.insertAdjacentHTML("afterbegin", newHtml);
    document.getElementById("explorer-container").
        insertAdjacentHTML("beforeend", `<footer id="footer"></footer>`);

    const elements = {
        command: document.getElementById("command"),
        searchText: document.getElementById("search-text"),
        libraryExplorer: document.getElementById('library-explorer'),
        navbar: document.getElementsByClassName("navbar")[0],
        findNext: document.getElementById("find-next"),
        findPrevious: document.getElementById("find-previous"),
        commandSubtitleContainer: document.getElementById("command-subtitle-container"),
        main: document.getElementsByClassName("main")[0],
        explorerContainer: document.getElementById("explorer-container"),
        insights: document.getElementById("insights"),
        help: document.getElementById("help"),
        about: document.getElementById("about"),
        disabler: document.getElementById("disabler"),
        fullPathDisplay: document.getElementById("full-path-display"),
        searchResults: document.getElementById("search-results"),
        libraryItems: document.querySelectorAll(".library-item"),
        libraryItemModal: document.getElementById("library-item-modal"),
        libraryItemModalItems: document.getElementById("library-item-modal")
            .getElementsByClassName('modal-menu-item'),
        footer: document.getElementById("footer"),
    }



    const rootInfo = elements.libraryExplorer.children[0].dataset;

    organizeAlbums(elements.libraryExplorer.children[0].children[0]);

    elements.libraryExplorer.getElementsByTagName('UL')[0].classList.add("fade");

    const menuIcon = createHamburgerMenu();

    elements.libraryItems.forEach((elem) => {
        insertHoverDetailsBeforeUL(elem, menuIcon, rootInfo);
        styleTheListElement(elem, rootInfo);
    });
    document.querySelectorAll(".largest-folders").forEach((elem) => {
        styleTheListElement(elem, rootInfo);
        const details = hoverDetails(elem, menuIcon, rootInfo)
        newBr = document.createElement("br");
        elem.appendChild(newBr)
        elem.appendChild(details);
    });
    elements.libraryExplorer.querySelectorAll(".library-item-menu-button").forEach((node) =>
        node.onclick = (e) => {
            updateState({
                type: "CLICK_ITEM_BUTTON",
                node: e.target,
                event: e
            })
        }
    )
    elements.commandSubtitleContainer.appendChild(commandline(elements));
    elements.help.appendChild(closeSidebarButton());
    elements.help.appendChild(helpContent());
    elements.about.appendChild(closeSidebarButton());
    elements.about.appendChild(aboutContent());
    elements.footer.appendChild(footerContent());

    elements.insights.insertBefore(closeSidebarButton(), elements.insights.children[0]);

    /*-------------------------------------------------------------------------
        Initialize state.
    -------------------------------------------------------------------------*/

    const state = {
        search: {
            index: {},
            query: "",
            results: [],
            resultsText: "",
            i: 0,
            enableNext: false,
            enablePrevious: false
        },
        explorer: {
            hoverPath: "",
            openFolders: new Set,
            hoverSelectedNode: null,
            openMenu: null,
            menuPos: { top: 0, right: 0 }
        },
        sidebar: {
            expanded: false,
            content: null
        },
    }

    setTimeout(() => indexForSearch(elements.libraryExplorer, state.search.index), 0);

    /*-------------------------------------------------------------------------
        Initialize listeners.
    -------------------------------------------------------------------------*/

    elements.help.querySelectorAll("h2").forEach((node) => {
        node.onclick = (e) => {
            updateState({
                type: "CLICK_HELP_SECTION_TITLE",
                node: e.target
            })
        }
    })

    elements.libraryExplorer.onclick = (e) => {
        updateState({
            type: "FOLDER_CLICK",
            node: e.target
        });
    }

    elements.searchText.onkeyup = (e) => {
        updateState({
            type: "NEW_QUERY",
            text: e.target.value
        })
    }

    document.onmouseover = (e) => {
        if (state.explorer.openMenu) return;
        updateState({
            type: "CHANGE_HOVER_SELECTED_NODE",
            node: e.target
        })
    };

    elements.findNext.onclick = (e) => {
        updateState({ type: "FIND_NEXT" })
    };

    elements.findPrevious.onclick = (e) => {
        updateState({ type: "FIND_PREVIOUS" })
    }

    elements.insights.onclick = (e) => {
        const _node = doesSomeParentBelong(e.target, "largest-folders");
        if (!_node) return;
        updateUi({
            type: "JUMP_TO_NODE",
            node: findFolder(_node.dataset.fullPath)
        })
    }

    elements.disabler.onclick = (e) => {
        updateState({ type: "CLOSE_ITEM_MENU_CLICK" })
    }

    elements.navbar.onclick = (e) => {
        updateState({ type: "CLOSE_ITEM_MENU_CLICK" })
    }

    document.getElementById(
        "insights-button").onclick = (e) => {
            updateState({
                type: "CHANGE_SIDEBAR_CONTENT",
                div: "sidebar",
                node: elements.insights
            })
        }

    document.getElementById(
        "help-button").onclick = (e) => {
            updateState({
                type: "CHANGE_SIDEBAR_CONTENT",
                div: "sidebar",
                node: elements.help
            })
        }

    document.getElementById(
        "about-button").onclick = (e) => {
            updateState({
                type: "CHANGE_SIDEBAR_CONTENT",
                div: "sidebar",
                node: elements.about
            })
        }

    document.querySelectorAll(".close-sidebar-button").forEach((elem) => {
        elem.onclick = (e) => {
            // This state update is "changing to the current content".
            // Changing to the current content means close the sidebar.
            updateState({
                type: "CHANGE_SIDEBAR_CONTENT",
                div: "sidebar",
                node: state.sidebar.content
            })
        }
    })


    /*-------------------------------------------------------------------------
        Initialize functions and constants that require context.
    -------------------------------------------------------------------------*/

    const itemMenu = itemMenuMaker(
        elements.libraryItemModal,
        elements.libraryItemModal.getElementsByClassName("modal-menu-item"))
    // provide these functions with context... needs more thought...
    const findAll = searchIndex(state)
    const findFolder = makeFindFolder(elements)

    /*-------------------------------------------------------------------------
        Handle changes to state.
    -------------------------------------------------------------------------*/

    const updateState = (action) => {
        switch (action.type) {
            case "NEW_QUERY":
                if (action.text === state.search.query) break;
                state.search.query = action.text;
                updateState({ type: "NEW_SEARCH" });
                break;
            case "NEW_SEARCH":
                state.search.previousResult = (
                    state.search.results ?
                        state.search.results[state.search.i] : null);
                state.search.results = findAll(state.search.query);
                state.search.resultsText = getSearchResultText(
                    state.search.results);
                state.search.i = 0;
                updateUi({ type: "SCROLL_SEARCH" });
                updateState({ type: "UPDATE_BUTTON_STATES" });
                updateState({
                    type: "CHANGE_HOVER_SELECTED_NODE",
                    node: state.search.results[state.search.i]
                })
                break;
            case "FIND_NEXT":
                if (state.search.i < state.search.results.length - 1) {
                    state.search.previousResult = (
                        state.search.results ?
                            state.search.results[state.search.i] : null);
                    state.search.i++;
                    state.search.resultsText = getSearchResultText(
                        state.search.results);
                    updateUi({ type: "SCROLL_SEARCH" });
                }
                updateState({ type: "UPDATE_BUTTON_STATES" });
                updateState({
                    type: "CHANGE_HOVER_SELECTED_NODE",
                    node: state.search.results[state.search.i]
                })
                break;
            case "FIND_PREVIOUS":
                if (state.search.i > 0) {
                    state.search.previousResult = (
                        state.search.results ?
                            state.search.results[state.search.i] : null);
                    state.search.i--;
                    state.search.resultsText = getSearchResultText(
                        state.search.results);
                    updateUi({ type: "SCROLL_SEARCH" });
                }
                updateState({ type: "UPDATE_BUTTON_STATES" });
                updateState({
                    type: "CHANGE_HOVER_SELECTED_NODE",
                    node: state.search.results[state.search.i]
                })
                break;
            case "UPDATE_BUTTON_STATES":
                updateButtonState(state);
                if (state.search.enableNext) {
                    updateUi({
                        type: "ENABLE_BUTTON",
                        node: elements.findNext
                    })
                }
                else {
                    updateUi({
                        type: "DISABLE_BUTTON",
                        node: elements.findNext
                    })
                }
                if (state.search.enablePrevious) {
                    updateUi({
                        type: "ENABLE_BUTTON",
                        node: elements.findPrevious
                    })
                }
                else {
                    updateUi({
                        type: "DISABLE_BUTTON",
                        node: elements.findPrevious
                    })
                }
                break;
            case "FOLDER_CLICK":
                let node = action.node;
                if (node.classList.contains("hover-details")) {
                    node = node.parentElement; // click was on hover-details
                }
                updateUi({
                    type: "FOLDER_CLICK",
                    node: node
                })
                break;
            case "TOGGLE_FOLDER":
                action.open ?
                    state.explorer.openFolders.add(action.node) :
                    state.explorer.openFolders.delete(action.node)
                break;
            case "CLICK_ITEM_BUTTON":
                state.explorer.menuPos = getMenuButtonClickPos(
                    state.explorer.hoverSelectedNode, action.event);
                updateUi({
                    type: "OPEN_ITEM_MENU",
                    node: state.explorer.hoverSelectedNode
                });
                state.explorer.openMenu = state.explorer.hoverSelectedNode;
                break;
            case "CLOSE_ITEM_MENU_CLICK":
                updateUi({ type: "CLOSE_ITEM_MENU" });
                state.explorer.openMenu = null;
                break;
            case "CHANGE_HOVER_SELECTED_NODE":
                const _node = doesSomeParentBelong(action.node, "library-item");
                if (!_node) {
                    updateUi({
                        type: "HIDE_HOVER_DETAILS",
                        node: state.explorer.hoverSelectedNode
                    });
                    state.explorer.hoverSelectedNode = null;
                    state.explorer.hoverPath = "";
                    updateUi({ type: "CHANGE_HOVER_PATH" });
                    break;
                }
                else {
                    updateUi({
                        type: "HIDE_HOVER_DETAILS",
                        node: state.explorer.hoverSelectedNode
                    });
                    state.explorer.hoverSelectedNode = _node;
                    state.explorer.hoverPath = getFullPath(_node);
                    updateUi({ type: "CHANGE_HOVER_PATH" });
                    updateUi({
                        type: "SHOW_HOVER_DETAILS",
                        node: _node
                    });
                    break;
                }
            case "CHANGE_SIDEBAR_CONTENT":
                if (action.node == state.sidebar.content) {
                    if (state[action.div].expanded) {
                        updateUi({
                            type: "CLOSE_DIV",
                            node: action.node
                        });
                        state[action.div].expanded = false;
                        state.sidebar.content = action.node;
                        break;
                    }
                    else {
                        updateUi({
                            type: "EXPAND_DIV",
                            node: action.node
                        });
                        state[action.div].expanded = true;
                        state.sidebar.content = action.node;
                        break;
                    }
                }

                else if (state[action.div].expanded) {
                    updateUi({
                        type: "CHANGE_CONTENT",
                        old: state.sidebar.content,
                        node: action.node
                    });
                    state.sidebar.content = action.node;
                    state[action.div].expanded = true;
                    break;
                }
                else {
                    updateUi({
                        type: "EXPAND_DIV",
                        node: action.node
                    });
                    state[action.div].expanded = true;
                    state.sidebar.content = action.node;
                    break;
                }
            case "CLICK_HELP_SECTION_TITLE":
                const helpSection = action.node.parentElement;
                if (helpSection == state.sidebar.openHelpSection) {
                    updateUi({
                        type: "CLOSE_HELP_TEXT",
                        node: helpSection
                    })
                    state.sidebar.openHelpSection = null;
                    break;
                }
                updateUi({
                    type: "CLOSE_HELP_TEXT",
                    node: state.sidebar.openHelpSection
                })
                updateUi({
                    type: "OPEN_HELP_TEXT",
                    node: helpSection
                })
                state.sidebar.openHelpSection = helpSection
                break;
            default:
                return;
        }
    }

    /*-------------------------------------------------------------------------
        Handle changes to UI state.
    -------------------------------------------------------------------------*/

    const updateUi = (action) => {
        switch (action.type) {
            case "SCROLL_SEARCH":
                ui_ScrollSearch();
                break;
            case "CHANGE_HOVER_PATH":
                ui_ChangeHoverPath();
                break;
            case "FOLDER_CLICK":
                const _state = ui_ToggleFolder(action.node)
                updateState({
                    type: "TOGGLE_FOLDER",
                    open: _state,
                    node: action.node
                })
                break;
            case "JUMP_TO_NODE":
                ui_JumpToNode(action.node)
                break;
            case "OPEN_ITEM_MENU":
                itemMenu(action.node);
                elements.libraryItemModal.style.top = state.explorer.menuPos.top;
                elements.libraryItemModal.style.left = Math.min(
                    parseInt(state.explorer.menuPos.left),
                    document.body.clientWidth - elements.libraryItemModal.offsetWidth) - 15 + "px";
                elements.libraryItemModal.classList.add("show-modal");
                elements.disabler.style.visibility = 'visible';
                // TODO: scroll into view if needed
                break;
            case "CLOSE_ITEM_MENU":
                elements.libraryItemModal.classList.remove("show-modal");
                elements.disabler.style.visibility = 'hidden';
                elements.libraryItemModal.style.top = "0px";
                elements.libraryItemModal.style.left = "0px";
                break;
            case "HIDE_HOVER_DETAILS":
                const _oldNode = action.node;
                if (!_oldNode) break;
                _oldNode.style.borderColor = "rgba(0, 0, 0, 0)";

                const _oldDetails = _oldNode.querySelector(".hover-details");
                if (_oldDetails) {
                    _oldDetails.classList.add('hidden');
                }
                break;
            case "SHOW_HOVER_DETAILS":
                const _hoveredNode = action.node;
                if (!_hoveredNode) break;
                _hoveredNode.style.borderColor = "rgba(105, 105, 105, 0.507)";

                !_hoveredNode.classList.contains("album") ?
                    _hoveredNode.style.cursor = "pointer" :
                    _hoveredNode.style.cursor = "default";

                const _details = _hoveredNode.querySelector(".hover-details");
                if (_details) {
                    _details.classList.remove('hidden');
                }
                break;
            case "CLOSE_DIV":
                elements.main.style.marginLeft = '0px';
                elements.explorerContainer.style.marginLeft = "0px";
                action.node.style.visibility = 'hidden';
                break;
            case "EXPAND_DIV":
                action.node.style.visibility = 'visible';
                elements.explorerContainer.style.marginLeft = "400px";
                break;
            case "CHANGE_CONTENT":
                if (action.old) {
                    action.old.style.visibility = "hidden";
                }
                action.node.style.visibility = 'visible';
                break;
            case "CLOSE_HELP_TEXT":
                if (!action.node) break;
                const _closeTarget = action.node.querySelector(".slide-open-text");
                _closeTarget.style.transitionDelay = "0s"
                _closeTarget.style.maxHeight = "0px";
                break;
            case "OPEN_HELP_TEXT":
                if (!action.node) break;
                const _openTarget = action.node.querySelector(".slide-open-text");
                _openTarget.style.transitionDelay =
                    state.sidebar.openHelpSection ? ".5s" : "0s";
                _openTarget.style.maxHeight = "400px";
                break;
            case "DISABLE_BUTTON":
                action.node.classList.remove("hover-button");
                action.node.classList.remove("click-button");
                action.node.style.borderColor = "hsl(0, 0%, 90%)";
                action.node.disabled = true;
                break;
            case "ENABLE_BUTTON":
                action.node.classList.add("hover-button");
                action.node.classList.add("click-button");
                action.node.style.borderColor = "black";
                action.node.disabled = false;
                break;
        }
    }

    /*-------------------------------------------------------------------------
        UI functions for interacting with DOM.
    -------------------------------------------------------------------------*/

    const ui_ToggleFolder = (node) => {
        return dropDownDirectory(node);
    }

    const ui_ChangeHoverPath = () => {
        elements.fullPathDisplay.innerText = state.explorer.hoverPath
    }

    const ui_ScrollSearch = () => {
        const node = state.search.results[state.search.i]
        nodes = getParentsOfNode(node)
        hideStaleNodes(nodes);
        showFreshNodes(nodes);
        scrollToNode(node);
        //flashNode(node);
        displaySearchResults();
        if (state.search.previousResult) {
            state.search.previousResult.classList.remove(
                'current-search-result')
        }
        if (node) node.classList.add('current-search-result')
    }

    const ui_JumpToNode = (node) => {
        nodes = getParentsOfNode(node)
        hideStaleNodes(nodes);
        showFreshNodes(nodes);
        scrollToNode(node);
        flashNode(node);
    }

    const displaySearchResults = () => {
        elements.searchResults.innerText = state.search.resultsText;
    }

    const getSearchResultText = (results) => {
        if (!state.search.query) {
            return "";
        }
        else if (results.length <= 0) {
            return `No results for "${state.search.query}"`
        }
        else {
            return `${state.search.i + 1} / ${results.length}`
        }
    }

    /*-------------------------------------------------------------------------
      Initialize the UI.
    -------------------------------------------------------------------------*/

    updateState({
        type: "FOLDER_CLICK",
        node: elements.libraryExplorer.children[0]
    });
    updateState({ type: "UPDATE_BUTTON_STATES" });
}

/*-----------------------------------------------------------------------------
    Utility functions.
-----------------------------------------------------------------------------*/

const updateButtonState = (state) => {
    buttonEnabled(state, "next") ?
        state.search.enableNext = true :
        state.search.enableNext = false;
    buttonEnabled(state, "previous") ?
        state.search.enablePrevious = true :
        state.search.enablePrevious = false;
}

const buttonEnabled = (state, button) => {
    switch (button) {
        case "next":
            if (state.search.i >= state.search.results.length - 1) {
                return false;
            }
            return true;
        case "previous":
            if (state.search.i <= 0) {
                return false;
            }
            return true;
    }
}


const getMenuButtonClickPos = (node, e) => {
    parentRect = node.getBoundingClientRect()
    const top = e.clientY + window.scrollY
    const left = e.clientX
    return {
        top: top + "px",
        left: left + "px"
    }
}

const doesSomeParentBelong = (node, className) => {
    if (!node) return false;
    if (node.classList.contains(className)) return node;
    return node.parentElement &&
        doesSomeParentBelong(node.parentElement, className);
}

const searchIndex = (state) => (query) => {
    const index = state.search.index;
    if (query == " ") return [];
    lower = query.toLowerCase();
    const words = lower.split(" ")
        .filter((word) => word !== "")
        .filter((word) => word !== " ");
    const searchResults = [];
    const orderedResults = new Array(words.length + 1)
    countHits = new Object;

    for (i = 0; i < words.length; i++) {
        if (!index[words[i]]) continue;
        for (const node of index[words[i]]) {
            key = node.dataset.fullPath
            if (!countHits[key]) countHits[key] = 0;
            countHits[key]++;
            searchResults.push(node);
        }
    }

    for (const node of searchResults) {
        const hits = countHits[node.dataset.fullPath]
        if (!orderedResults[hits]) orderedResults[hits] = new Set;
        orderedResults[hits].add(node)
    }

    completeResults = [];
    for (i = words.length + 1; i >= 1; i--) {
        if (!orderedResults[i]) continue;
        for (const node of orderedResults[i].values()) {
            completeResults.push(node);
        }
    }
    return completeResults;
}

const indexForSearch = (node, index) => {
    const indexNext = (node) => {
        if (node.dataset.shortname) {

            const keywords = node.dataset.shortname.toLowerCase().split(" ")

            keywords.forEach((keyword) => {
                if (index[keyword] !== undefined) index[keyword].add(node);
                else {
                    index[keyword] = new Set;
                    index[keyword].add(node)
                }
            })
        }
        for (let child of node.children) {
            indexNext(child)
        }
    }
    indexNext(node)
    return index;
}

const makeFindFolder = (elements) => (fullPath) => {
    for (const node of elements.libraryItems) {
        if (node.dataset.fullPath === fullPath) return node;
    }
}

const getParentsOfNode = (node) => {
    if (!node) return new Set;

    let nodeCursor = node.parentElement;
    const nodeParents = new Set;

    while (nodeCursor) {
        if (nodeCursor.tagName === "UL") nodeParents.add(nodeCursor);
        nodeCursor = nodeCursor.parentElement;
    }
    return nodeParents;
}

const hideStaleNodes = (setOfNodes) => {
    const currentShownNodes = new Set;
    const shownNodes = document.getElementById('library-explorer')
        .getElementsByClassName('show-list')

    for (const shownNode of shownNodes) {
        currentShownNodes.add(shownNode);
    };

    const stale = [...currentShownNodes].filter((node) => {
        return !setOfNodes.has(node);
    })

    for (const node of stale) {
        node.classList.remove('show-list')
    }
    return stale;
}

const showFreshNodes = (setOfNodes) => {
    for (const node of setOfNodes) {
        node.classList.add('show-list')
    }
    return setOfNodes
}

const scrollToNode = (node) => {
    if (!node) return;
    window.requestAnimationFrame(() => node.scrollIntoView({
        behavior: "smooth",
        block: "center",
    }));
}

const flashNode = (node) => {
    if (!node) return;
    setTimeout(
        () => node.style.background = node.dataset.backgroundColor, 2000)
    const colorEdit = node.dataset.backgroundColor.slice(
        0, node.dataset.backgroundColor.indexOf(","))
    node.style.backgroundColor = colorEdit + ", 75%, 75%)"
}

const highlightNode = (node) => {
    if (!node) return;
    let newColor = node.dataset.backgroundColor.slice(0,
        node.dataset.backgroundColor.length - 2);
    newColor = newColor + ".1)";
    node.style.backgroundColor = newColor;
}

const getFullPath = (node) => {
    if (!node.classList.contains("library-item")) return "";
    return node.dataset.fullPath;
}

/**
 * Add the class "show-list".
 * @param {Event} e.target The target node.
 */
const dropDownDirectory = (node) => {
    const toggleShowList = toggleClassName('show-list')
    let state;
    for (const child of node.children) {
        if (child === undefined) continue;
        toggleShowList(child);
        state = child.classList.contains('show-list')
    };
    return state;
}

/**
 * Returns a function that toggles the class name on and off.
 * @param {String} className The class name to toggle on and off.
 */
const toggleClassName = (className) => (element) => {
    return element.classList.toggle(className);
}

/**
 * Style the (list) element. Requires rootInfo.totalAlbums and that the
 * element have its class and dataset attributes set correctly.
 * elem.dataset.totalAlbums: Number
 * @param {HTMLElement} elem The HTML node element.
 * @param {Object} rootInfo The info about the displayed directories.
 */
const styleTheListElement = (elem, rootInfo) => {

    if (elem.classList.contains("path")) {
        elem.insertAdjacentHTML("afterbegin", pathIcon);
    }
    else if (elem.classList.contains("album")) {
        elem.insertAdjacentHTML("afterbegin", albumIcon);

        const backgroundColor = `rgba(255, 255, 255)`
        elem.style.backgroundColor = backgroundColor;
        elem.dataset.backgroundColor = backgroundColor;
        return;
    }
    else if (elem.classList.contains("collection")) {
        elem.insertAdjacentHTML("afterbegin", collectionIcon);
    }
    else if (elem.classList.contains("library")) {
        elem.insertAdjacentHTML("afterbegin", libraryIcon);
    }

    const albums = elem.dataset.totalAlbums;
    const percent = Math.floor(albums / rootInfo.totalAlbums * 100);

    const H = 180 + Math.floor(Math.log2(percent) * 180 / Math.log2(100));
    const S = 8;
    const L = 90 - Math.floor((Math.log2(percent) * 4))

    const backgroundColor = `hsl(${H}, ${S}%, ${L}%)`

    elem.style.backgroundColor = backgroundColor;
    elem.dataset.backgroundColor = backgroundColor;


}

/**
 * Insert the hover details for the element.
 * @param {HTMLElement} elem The HTML node element.
 */
const insertHoverDetailsBeforeUL = (elem, menuIcon, rootInfo) => {
    const ul = elem.getElementsByTagName("UL")[0];
    elem.insertBefore(hoverDetails(elem, menuIcon, rootInfo), ul)
}

/**
 * Takes an <li> and formats its attributes. Returns a new <span> to be 
 * appended under the <li>.
 * @param {HTMLElement} li The <li> that needs hover details added.
 */
const hoverDetails = (li, menuIcon, rootInfo) => {
    const newSpan = document.createElement("span");
    let text;
    if (li.classList.contains("library")) {
        text =
            `${li.dataset.totalAlbums} albums, ` +
            `${li.dataset.totalAudioFiles} tracks`;
    }
    else if (li.classList.contains("collection")) {
        text =
            `${li.dataset.totalAlbums} albums, ` +
            `${li.dataset.totalAudioFiles} tracks`;
    }
    else if (li.classList.contains("album")) {
        text =
            `${li.dataset.containedAudioFiles} tracks`;
    }
    else if (li.classList.contains("path")) {
        text =
            `${li.dataset.totalAlbums} albums, ` +
            `${li.dataset.totalAudioFiles} tracks`;
    }
    else if (li.classList.contains("largest-folders")) {
        text =
            `${li.dataset.totalAlbums} albums ` +
            `(${Math.floor(li.dataset.totalAlbums / rootInfo.totalAlbums * 100)}%), ` +
            `${li.dataset.totalAudioFiles} tracks ` +
            `(${Math.floor(li.dataset.totalAudioFiles / rootInfo.totalAudioFiles * 100)}%)`;
        newSpan.innerText = text;
        return newSpan;
    }
    newSpan.innerText = text;
    newSpan.setAttribute("class", "hover-details hidden");

    const menuButton = document.createElement("span");
    menuButton.appendChild(createHamburgerMenu())
    menuButton.classList.add("library-item-menu-button");
    newSpan.appendChild(menuButton)

    return newSpan;
}

/**
 * Moves <li> with the class name "album" to the bottom of its parent <ul>.
 * Imitative of OS file explorers displaying subdfolders at the top of each
 * directory followed by files. Note that thes <li> albums do represent real
 * folders on the file system.
 * @param {HTMLElement} elem The root node at which to start the DFS. 
 */
const organizeAlbums = (elem) => {
    if (elem === undefined) return;

    const stack = new Array;
    for (let child of elem.children) {
        if (child.className.indexOf("album") === -1) {
            organizeAlbums(child.children[0]);
            continue;
        }
        stack.push(child);
    }
    for (let child of stack) {
        elem.appendChild(child);
    }
}

const itemMenuMaker = (menu, menuItems) => (node) => {
    menuItems[3].children[0].innerText = "Copy full path to clipboard"
    menuItems[0].innerText = node.dataset.fullPath
    menuItems[0].style.fontSize = 'small';
    menuItems[0].style.visibility = 'hidden'
    menuItems[0].style.display = 'block';
    menuItems[2].style.display = 'none';
    menuItems[2].style.width = menuItems[0].offsetWidth + "px";
    menuItems[2].style.display = 'flex';
    menuItems[2].style.fontSize = 'small';
    menuItems[0].style.visibility = 'visible';
    menuItems[0].style.display = "none";
    menuItems[1].innerText = node.dataset.shortname
    menuItems[1].style.fontWeight = "bold";
    menuItems[2].innerText = node.dataset.fullPath

    menuItems[3].children[0].onclick = () => {
        menuItems[2].focus();
        menuItems[2].select();
        menuItems[2].setSelectionRange(0, 99999);
        const successful = document.execCommand("copy");
        menuItems[3].children[0].innerText = successful ?
            "Copied!" :
            "Copy failed.  Highlight and copy manually."

    }
    menuItems[3].children[1].href = "file:///" + node.dataset.fullPath

    menuItems[4].innerText = ((node) => {
        switch (node.classList[0]) {
            case "library":
                return "Library";
            case "collection":
                return "Collection";
            case "album":
                return "Album";
            case "path":
                return "Path";
        }
    })(node);
    menuItems[5].innerText = node.dataset.totalAudioFiles ?
        `${node.dataset.totalAudioFiles} audio files` :
        "";
    menuItems[6].innerText = node.dataset.totalAlbums ?
        `${node.dataset.totalAlbums} albums` :
        "";
}

// helper function to get an element's exact position
function getPosition(event) {
    let el = event.target

    var xPosition = 0;
    var yPosition = 0;

    while (el) {
        if (el.tagName == "BODY") {
            // deal with browser quirks with body/window/document and page scroll
            var xScrollPos = el.scrollLeft || document.documentElement.scrollLeft;
            var yScrollPos = el.scrollTop || document.documentElement.scrollTop;

            xPosition += (el.offsetLeft - xScrollPos + el.clientLeft);
            yPosition += (el.offsetTop - yScrollPos + el.clientTop);
        } else {
            xPosition += (el.offsetLeft - el.scrollLeft + el.clientLeft);
            yPosition += (el.offsetTop - el.scrollTop + el.clientTop);
        }

        el = el.offsetParent;
    }
    return {
        top: event.clientY + "px",
        right: event.clientX + "px",
    };
}

const createHamburgerMenu = () => {
    const menuIcon = document.createElementNS("http://www.w3.org/2000/svg", "svg");

    menuIcon.setAttribute("width", "20");
    menuIcon.setAttribute("height", "12");

    const r1 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    r1.setAttribute("width", "20");
    r1.setAttribute("height", "2")
    menuIcon.appendChild(r1);

    const r2 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    r2.setAttribute("y", "5")
    r2.setAttribute("width", "20");
    r2.setAttribute("height", "2")
    menuIcon.appendChild(r2);

    const r3 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    r3.setAttribute("y", "10")
    r3.setAttribute("width", "20");
    r3.setAttribute("height", "2")
    menuIcon.appendChild(r3);

    return menuIcon
};

const commandline = (elements) => {
    const commandline = document.createElement("h3");
    commandline.setAttribute("id", "command-subtitle");
    commandline.innerText = "library_finder " + elements.command.dataset.command;
    return commandline;
}

const helpContent = () => {
    const helpContent = document.createElement("div");
    helpContent.setAttribute("id", "guide-container")
    helpContent.innerHTML = `
    <div id="about-navigation">
        <h2>navigation</h2>
        <div class="slide-open-text">
            
            At the top of the page you will find a navigation bar. Underneath
            the title is the command that created this file. Below that, 
            the full pathname of the currently hovered library item will be 
            displayed. On the right side of the navigation is search.
            <hr>
        </div>
      
    </div>
    <div id="about-search">
        <h2>search</h2>
        <div class="slide-open-text">
           
            The search at the right is a keyword search that will rank results
            by the number of words that were matched regardless of order. You
            can scroll through the results using the previous (^) and next (v) 
            buttons to the right of the search box.  Usually the top results
            will be the ones you are looking for.
            <hr>
        </div>
        
    </div>
    <div id="about-insights">
        <h2>insights</h2>
        <div class="slide-open-text">
           
            Below the navigation bar is a panel labeled "Insights". Click on it
            to view a list of the ten paths that contain the most albums.  Each
            entry displays how many albums and tracks it contains and what 
            percentage of the total this accounts for. You may click on any of
            these items to reveal them in the Explorer below.
            <hr>
        </div>
    </div>
    <div id="about-explorer">
        <h2>explorer</h2>
        <div class="slide-open-text">
           
            The Library Explorer is a file explorer that contains only the media
            type that you are looking for.  Each folder is colored on a gradient
            from light-cold-grey to dark-warm-grey that corresponds to the
            percentage of albums that folder contains. Every folder 
            will show details about its contents on hover and is expandable by
            click. The menu icon (=) at the right is a context menu that gives you
            the option to copy the full path or open the folder in a new tab for
            previewing.
            <hr>
        </div>
    </div>
    <div id="about-finder">
        <h2>library_finder commands</h2>
        <div class="slide-open-text">
           
        Usage: <code>library_finder &ltpath> [options]</code><br><br>

        Options:
            <li><code>--html</code><br> Output results to ./library_explorer.html instead of printing to terminal.</li>
            <li><code>--type &ltkind></code><br> Specify the kind of file library to search for as "photo", "video" or "audio". Default is audio.</li>
            <li><code>--tolerance &ltnumber></code><br> Specify how many non-target file types to allow per folder before skipping. Default is 2.</li>
            <li><code>--help</code><br> Describe command line arguments and options.</li>
            <a href="https://github.com/JPHutchins/library_finder/wiki/Command-Line-Usage" target="_blank" 
        rel="noreferrer">More info on the Wiki</a>
        <hr>
        </div>
        
    </div>
    `;
    return helpContent;
}

const aboutContent = () => {
    const aboutContent = document.createElement("div");
    aboutContent.setAttribute("id", "about-container")
    aboutContent.innerHTML = `
        <div>
        <h2>goals</h2>
            <p>
            library_finder will quickly index a filesystem by including only a target 
            media type.  library_explorer will present the user with an intuitive means of 
            seeing the paths of the filetype they are looking for with minimal
            risk of missing anything.
            <br>
            <a href="https://github.com/JPHutchins/library_finder/wiki" target="_blank" rel="noreferrer">Wiki</a>
            </p>
            <hr>
        <h2>technologies</h2>
            <p>
            Cross-platform compatability is very important.  library_finder
            is written in C style C++.  library_explorer is written in
            HTML, mostly generated by library_finder, "vanilla" JavaScript ES6
            and CSS.  library_explorer does not make any use of network
            resources and does not require an internet connection.
            <br>
            <a href="https://github.com/JPHutchins/library_finder" target="_blank" rel="noreferrer">Source Code</a>
            </p>
           
            <hr>
        </div>
        `
    aboutContent.appendChild(footerContent());
    return aboutContent;
}

const newHtml = `
    <div id="disabler"></div>
    <div id="library-item-modal" class="hide-modal">
        <div class="modal-menu-item always-hidden"></div>
        <div class="modal-menu-item"></div>
        <hr>
        <textarea readonly class="modal-menu-item"></textarea>
        <div class="modal-menu-item">
            <a>Copy full path to clipboard</a>
            |
            <a target="_blank" href="#">Open folder in new tab</a>
        </div>
        <hr>
        <div class="modal-menu-item"></div>
        <div class="modal-menu-item"></div>
        <div class="modal-menu-item"></div>
    </div>
    <div class="navbar">
        <div id="nav-header">
            <div id="nav-menu">
                <h1 id="title">library_explorer</h1>
                <div class="nav-menu-button" id="insights-button">insights</div>
                <div class="nav-menu-button" id="help-button">help</div>
                <div class="nav-menu-button" id="about-button">about</div>
            </div>
            <div class="search-box">
                <div class="search-nav">
                    <input type="text" class="search-text" id="search-text"
                        label="search for album, artist, song, or folder"
                        placeholder="search for album, artist, song, or folder">
                    <input disabled="true" type="button" id="find-previous" 
                        class="search-button" value="&#8896;">
                    <input disabled="true" type="button" id="find-next"
                        class="search-button" value="&#8897;">
                </div>
                <div id="search-results"></div>
            </div>
        </div>
        <div id="full-path-display"></div>
        <div id="command-subtitle-container"></div>
    </div>
    <div id="help" class="guide"></div>
    <div id="about" class="guide"></div>
    `

const footerContent = () => {
    const footerContent = document.createElement("div");
    footerContent.innerHTML = `
        Copyright &copy 2020 J.P. Hutchins.  GNU General Public License.
        <br>
        jphutchins@gmail.com
        <br>
        ${githubLink}
        ${linkedInLink}
    `
    return footerContent;
}

const closeSidebarButton = () => {
    const button = document.createElement("div");
    button.setAttribute("class", "close-sidebar-button");
    button.innerHTML = `${closeIcon}`;
    return button;
}

const pathIcon = `<svg class="list-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 54 54" style="enable-background:new 0 0 54 54;" xml:space="preserve">
<g>
	<path d="M53,10.5H23.535l-3.703-5.555C19.646,4.667,19.334,4.5,19,4.5H1c-0.552,0-1,0.447-1,1v6v4v29.003
		C0,47.259,2.24,49.5,4.994,49.5h44.012C51.76,49.5,54,47.259,54,44.503V15.5v-4C54,10.947,53.552,10.5,53,10.5z M52,14.5H2v-2h21
		h29V14.5z M2,6.5h16.465l2.667,4H2V6.5z M52,44.503c0,1.652-1.343,2.997-2.994,2.997H4.994C3.343,47.5,2,46.155,2,44.503V16.5h50
		V44.503z"/>
</g>
</svg>`

const albumIcon = `
<svg class="list-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 465 465" style="enable-background:new 0 0 465 465;" xml:space="preserve">
<g>
	<path d="M396.94,68.06C353.052,24.171,294.652,0,232.5,0S111.948,24.171,68.06,68.06C24.171,111.949,0,170.348,0,232.5
		s24.171,120.551,68.06,164.44C111.948,440.829,170.348,465,232.5,465s120.552-24.171,164.44-68.06
		C440.829,353.051,465,294.652,465,232.5S440.829,111.949,396.94,68.06z M232.5,450C112.57,450,15,352.43,15,232.5
		S112.57,15,232.5,15S450,112.57,450,232.5S352.43,450,232.5,450z"/>
	<path d="M232.5,412.5c-99.252,0-180-80.748-180-180c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5
		c0,52.127,20.272,101.107,57.083,137.917c36.81,36.81,85.79,57.083,137.917,57.083c4.143,0,7.5-3.358,7.5-7.5
		S236.643,412.5,232.5,412.5z"/>
	<path d="M232.5,52.5c42.792,0,84.245,15.24,116.722,42.912c1.412,1.203,3.141,1.792,4.86,1.792c2.121,0,4.229-0.895,5.713-2.636
		c2.687-3.153,2.308-7.887-0.845-10.573C323.762,54.012,278.854,37.5,232.5,37.5c-4.143,0-7.5,3.358-7.5,7.5
		S228.357,52.5,232.5,52.5z"/>
	<path d="M381.008,106.053c-2.687-3.153-7.42-3.531-10.573-0.845c-3.152,2.687-3.531,7.42-0.845,10.573
		c27.671,32.477,42.91,73.928,42.91,116.719c0,4.142,3.357,7.5,7.5,7.5s7.5-3.358,7.5-7.5
		C427.5,186.147,410.988,141.241,381.008,106.053z"/>
	<path d="M232.5,75c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5C311.075,90,375,153.925,375,232.5c0,4.142,3.357,7.5,7.5,7.5
		s7.5-3.358,7.5-7.5c0-42.103-16.374-81.663-46.105-111.395S274.603,75,232.5,75z"/>
	<path d="M163.958,374.368c1.052,0.508,2.164,0.75,3.26,0.75c2.786,0,5.463-1.56,6.757-4.237c1.804-3.729,0.242-8.214-3.487-10.017
		C120.841,336.86,90,287.675,90,232.5c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5c0,30.195,8.553,59.525,24.732,84.819
		C115.482,341.941,137.691,361.668,163.958,374.368z"/>
	<path d="M232.5,375c-11.938,0-23.799-1.474-35.25-4.382c-4.012-1.02-8.096,1.409-9.115,5.424s1.409,8.096,5.424,9.115
		C206.216,388.371,219.317,390,232.5,390c4.143,0,7.5-3.358,7.5-7.5S236.643,375,232.5,375z"/>
	<path d="M232.5,337.5c-29.979,0-58.59-12.839-78.499-35.224c-2.754-3.094-7.493-3.373-10.589-0.62
		c-3.095,2.752-3.373,7.493-0.62,10.588c22.753,25.583,55.45,40.255,89.708,40.255c4.143,0,7.5-3.358,7.5-7.5
		S236.643,337.5,232.5,337.5z"/>
	<path d="M131.624,289.889c1.117,0,2.252-0.25,3.321-0.78c3.712-1.837,5.232-6.336,3.395-10.048
		c-7.192-14.534-10.84-30.199-10.84-46.561c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5c0,18.69,4.171,36.594,12.396,53.214
		C126.204,288.357,128.861,289.889,131.624,289.889z"/>
	<path d="M232.5,112.5c-4.143,0-7.5,3.358-7.5,7.5s3.357,7.5,7.5,7.5c57.897,0,105,47.103,105,105c0,4.142,3.357,7.5,7.5,7.5
		s7.5-3.358,7.5-7.5C352.5,166.332,298.668,112.5,232.5,112.5z"/>
	<path d="M232.5,212.5c-11.028,0-20,8.972-20,20s8.972,20,20,20s20-8.972,20-20S243.528,212.5,232.5,212.5z M232.5,237.5
		c-2.757,0-5-2.243-5-5s2.243-5,5-5s5,2.243,5,5S235.257,237.5,232.5,237.5z"/>
	<path d="M232.5,149.5c-45.767,0-83,37.234-83,83s37.233,83,83,83s83-37.234,83-83S278.267,149.5,232.5,149.5z M232.5,300.5
		c-37.495,0-68-30.505-68-68s30.505-68,68-68s68,30.505,68,68S269.995,300.5,232.5,300.5z"/>
</g>
</svg>
`

const collectionIcon = `
<svg class="list-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 60.02 60.02" style="enable-background:new 0 0 60.02 60.02;" xml:space="preserve">
<g>
	<path d="M59.766,15.896l-0.363-0.386h-1.837l0.409-3.34c0.043-0.424-0.097-0.848-0.382-1.163c-0.286-0.315-0.694-0.497-1.12-0.497
		h-2.437V7c0-0.821-0.669-1.49-1.491-1.49h-2.509V2c0-0.821-0.669-1.49-1.491-1.49H11.526c-0.821,0-1.49,0.669-1.49,1.49v3.51h-2.51
		c-0.821,0-1.49,0.669-1.49,1.49v3.51H3.599c-0.426,0-0.834,0.182-1.12,0.497c-0.285,0.315-0.425,0.739-0.379,1.185l0.406,3.318
		h-1.37c-0.321,0-0.623,0.141-0.83,0.386L0,16.306l5.959,41.856c0.138,0.781,0.813,1.348,1.605,1.348h44.942
		c0.791,0,1.467-0.565,1.611-1.38l5.886-41.352C60.059,16.462,59.972,16.141,59.766,15.896z M12.036,2.51h36v3h-36V2.51z
		 M8.036,7.51h2h40h2v3h-44V7.51z M4.153,12.51h1.883h48h1.882l-0.367,3H4.521L4.153,12.51z M52.187,57.51H7.886l-5.695-40h0.561
		H57.32h0.56L52.187,57.51z"/>
	<path d="M29.536,20.51c-11.304,0-20.5,7.626-20.5,17s9.196,17,20.5,17s20.5-7.626,20.5-17S40.84,20.51,29.536,20.51z M29.536,52.51
		c-10.201,0-18.5-6.729-18.5-15s8.299-15,18.5-15s18.5,6.729,18.5,15S39.737,52.51,29.536,52.51z"/>
	<path d="M30.536,25.449c0-0.553-0.447-1-1-1c-3.993,0-7.778,1.21-10.946,3.499c-0.447,0.323-0.548,0.948-0.225,1.396
		c0.195,0.271,0.501,0.414,0.812,0.414c0.203,0,0.407-0.062,0.585-0.189c2.824-2.041,6.204-3.12,9.774-3.12
		C30.089,26.449,30.536,26.002,30.536,25.449z"/>
	<path d="M30.536,29.2c0-0.553-0.447-1-1-1c-3.105,0-6.049,0.941-8.512,2.723c-0.447,0.324-0.548,0.949-0.225,1.396
		c0.196,0.271,0.501,0.414,0.812,0.414c0.203,0,0.408-0.062,0.585-0.189c2.12-1.533,4.658-2.344,7.34-2.344
		C30.089,30.2,30.536,29.753,30.536,29.2z"/>
	<path d="M30.536,32.95c0-0.553-0.447-1-1-1c-2.229,0-4.339,0.68-6.104,1.967c-0.446,0.325-0.545,0.95-0.219,1.396
		c0.195,0.269,0.5,0.411,0.809,0.411c0.204,0,0.41-0.063,0.588-0.192c1.42-1.035,3.124-1.582,4.926-1.582
		C30.089,33.95,30.536,33.503,30.536,32.95z"/>
	<path d="M39.4,45.638c-2.824,2.042-6.204,3.121-9.774,3.121c-0.553,0-1,0.447-1,1s0.447,1,1,1c3.994,0,7.779-1.21,10.946-3.5
		c0.447-0.324,0.548-0.949,0.225-1.396C40.474,45.414,39.847,45.314,39.4,45.638z"/>
	<path d="M28.626,46.008c0,0.553,0.447,1,1,1c3.106,0,6.05-0.942,8.512-2.724c0.448-0.324,0.548-0.949,0.225-1.396
		c-0.325-0.448-0.95-0.548-1.396-0.225c-2.119,1.534-4.657,2.345-7.34,2.345C29.073,45.008,28.626,45.455,28.626,46.008z"/>
	<path d="M28.626,42.257c0,0.553,0.447,1,1,1c2.23,0,4.341-0.68,6.104-1.967c0.445-0.325,0.544-0.951,0.218-1.397
		c-0.324-0.444-0.949-0.544-1.397-0.218c-1.418,1.035-3.121,1.582-4.925,1.582C29.073,41.257,28.626,41.704,28.626,42.257z"/>
	<ellipse cx="29.932" cy="37.494" rx="2.327" ry="1.689"/>
</g>
</svg>
`

const libraryIcon = `<svg class="list-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
viewBox="0 0 508 508" style="enable-background:new 0 0 508 508;" xml:space="preserve">

<g>
   <path d="M493.949,0h-479.8c-7.8,0-14.1,6.3-14.1,14.1v464.1c0,7.8,6.3,14.1,14.1,14.1h24v1.6c0,7.8,6.3,14.1,14.1,14.1
       s14.1-6.3,14.1-14.1v-1.6h375.3v1.6c0,7.8,6.3,14.1,14.1,14.1c7.8,0,14.1-6.3,14.1-14.1v-1.6h24c7.8,0,14.1-6.3,14.1-14.1V14.1
       C508.049,6.3,501.749,0,493.949,0z M479.849,464.1L479.849,464.1h-451.6V337.6h451.6V464.1z M176.649,309.4v-85.5l29.8,85.5
       H176.649z M479.849,309.4L479.849,309.4h-243.5l-34.5-99.2l-25.1,8.7v-7.2h-28.2v97.7h-15.6v-97.7h-28.2v97.7h-15.8v-97.7h-28.2
       v97.7h-32.5V182.9h451.6V309.4z M479.849,154.7L479.849,154.7h-347V57h-28.2v97.7h-15.7V57h-28.2v97.7h-32.5V28.2h451.6V154.7z"/>
</g>
</svg>

`

const linkedInIcon = `<svg width="50" height="50" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="icon svg-inline--fa fa-linkedin fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>`
const githubIcon = `<svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github-square" class="icon svg-inline--fa fa-github-square fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg>`
const closeIcon = `<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>`

const linkedInLink = `<a class="icon-link" href="https://www.linkedin.com/in/j-p-hutchins-17357547" target="_blank" rel="noreferrer">${linkedInIcon}</a>`
const githubLink = `<a class="icon-link" href="https://github.com/JPHutchins" target="_blank" rel="noreferrer">${githubIcon}</a>`</script></html>